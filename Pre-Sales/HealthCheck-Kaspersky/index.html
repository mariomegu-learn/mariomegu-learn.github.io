<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de Madurez Kaspersky</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
</head>
<body>
    <div class="container">
        <!-- Login Modal -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>Iniciar Sesión</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Usuario</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                    <button type="button" class="btn btn-secondary" id="guestButton">Entrar como Invitado</button>
                </form>
            </div>
        </div>
        <!-- Header -->
        <header class="header">
            <h1><i class="bi bi-shield-lock-fill"></i> Assessment de Madurez Operativa – Kaspersky</h1>
            <p class="subtitle">Evaluación integral del despliegue, configuración y administración de la solución</p>
        </header>

        <!-- Tabs Navigation -->
        <nav class="tabs">
            <button class="tab-button active" data-tab="informacion"><i class="bi bi-info-circle-fill"></i> Información</button>
            <button class="tab-button" data-tab="controles"><i class="bi bi-list-check"></i> Controles</button>
            <button class="tab-button" data-tab="resultados"><i class="bi bi-bar-chart-fill"></i> Resultados</button>
            <button class="tab-button" data-tab="brechas"><i class="bi bi-shield-x"></i> Brechas</button>
            <!-- <button class="tab-button" data-tab="implementacion">⏱️ Implementación</button> -->
            <button class="tab-button" data-tab="madurez"><i class="bi bi-graph-up-arrow"></i> Madurez</button>
        </nav>

        <!-- Tab: Levantamiento de Información -->
        <section id="informacion" class="tab-content active">
            <h2>Levantamiento de Información</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="empresa">Empresa *</label>
                    <input type="text" id="empresa" placeholder="Nombre de la empresa">
                </div>
                <div class="form-group">
                    <label for="contacto">Contacto *</label>
                    <input type="text" id="contacto" placeholder="Nombre del contacto">
                </div>
                <div class="form-group">
                    <label for="telefono">Teléfono *</label>
                    <input type="tel" id="telefono" placeholder="Teléfono">
                </div>
                <div class="form-group">
                    <label for="correo">Correo Electrónico *</label>
                    <input type="email" id="correo" placeholder="cliente@empresa.com">
                </div>
                <div class="form-group">
                    <label for="elaborado">Elaborado por *</label>
                    <input type="text" id="elaborado" placeholder="Mario Mendoza">
                </div>
                <div class="form-group">
                    <label for="fecha">Fecha *</label>
                    <input type="date" id="fecha">
                </div>
            </div>

            <h3>Tipo de Licenciamiento</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="estaciones">Cantidad de Estaciones de Trabajo</label>
                    <input type="number" id="estaciones" placeholder="0" min="0">
                </div>
                <div class="form-group">
                    <label for="servidores">Cantidad de Servidores</label>
                    <input type="number" id="servidores" placeholder="0" min="0">
                </div>
                <div class="form-group">
                    <label for="moviles">Cantidad de Dispositivos Móviles</label>
                    <input type="number" id="moviles" placeholder="0" min="0">
                </div>
            </div>
        </section>

        <!-- Tab: Controles -->
        <section id="controles" class="tab-content">
            <h2>Evaluación de Controles</h2>
            <div class="controls-actions">
                <button class="btn btn-primary" onclick="guardarEvaluacion()" id="guardarBtn" style="display: none;"><i class="bi bi-bookmark-check"></i> Guardar Evaluación</button>
                <button class="btn btn-secondary" onclick="cargarEvaluacion()" id="cargarBtn" style="display: none;"><i class="bi bi-folder-fill"></i> Cargar Evaluación</button>
                <button class="btn btn-secondary" onclick="exportarJSON()" id="exportarBtn" style="display: none;"><i class="bi bi-filetype-json"></i> Exportar JSON</button>
                <button class="btn btn-primary" onclick="importarJSON()"><i class="bi bi-cloud-upload"></i> Importar JSON</button>
            </div>
            <div id="controles-container"></div>
        </section>

        <!-- Tab: Resultados -->
        <section id="resultados" class="tab-content">
            <h2>Resumen de Resultados</h2>
            <div class="results-summary">
                <div class="metric-card primary dinamyc-color">
                    <h3>Nivel de Madurez</h3>
                    <div class="metric-value" id="madurez-total">0%</div>
                    <div class="metric-label">Madurez Global</div>
                </div>
                <div class="metric-card">
                    <h3>Puntos Obtenidos</h3>
                    <div class="metric-value" id="puntos-obtenidos">0</div>
                    <div class="metric-label" id="puntos-maximos">de 284 posibles</div>
                </div>
                <div class="metric-card">
                    <h3>Total Características</h3>
                    <div class="metric-value" id="total-controles">0</div>
                    <div class="metric-label">Evaluadas</div>
                </div>
                <!-- 
                <div class="metric-card">
                    <h3>Tiempo de Implementación</h3>
                    <div class="metric-value" id="tiempo-total">0h</div>
                    <div class="metric-label">Esfuerzo estimado</div>
                </div>
                -->
            </div>

            <h3>Distribución de Controles</h3>
            <div class="distribution-grid">
                <div class="dist-card critical">
                    <div class="dist-count" id="count-critico">0</div>
                    <div class="dist-label">Brechas Críticas</div>
                    <div class="dist-desc">Cumplimiento < 50%</div>
                </div>
                <div class="dist-card warning">
                    <div class="dist-count" id="count-mejora">0</div>
                    <div class="dist-label">Oportunidades</div>
                    <div class="dist-desc">50% ≤ Cumplimiento < 80%</div>
                </div>
                <div class="dist-card success">
                    <div class="dist-count" id="count-fortaleza">0</div>
                    <div class="dist-label">Fortalezas</div>
                    <div class="dist-desc">Cumplimiento ≥ 80%</div>
                </div>
                <div class="dist-card neutral">
                    <div class="dist-count" id="count-noaplica">0</div>
                    <div class="dist-label">No Aplica</div>
                    <div class="dist-desc">Sin evaluación</div>
                </div>
            </div>
        </section>

        <!-- Tab: Brechas -->
        <section id="brechas" class="tab-content">
            <h2>Análisis de Brechas</h2>
            <div id="brechas-container"></div>
        </section>

        
        <!-- Tab: Implementación 
        <section id="implementacion" class="tab-content">
            <h2>Plan de Implementación</h2>
            <div id="implementacion-container"></div>
        </section>
        -->

        <!-- Tab: Madurez -->
        <section id="madurez" class="tab-content">
            <h2>Análisis de Madurez por Control</h2>
            <div id="madurez-container"></div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>